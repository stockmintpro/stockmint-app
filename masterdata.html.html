<!-- File: masterdata.html -->
<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StockMint - Master Data</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.sheetjs.com/xlsx-0.20.2/package/dist/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <!-- Sidebar dan Navbar akan diload via JavaScript -->
    
    <!-- Main Content -->
    <div class="content" id="content-area">
        <div class="master-data-layout" style="display: flex; gap: 30px;">
            <!-- LEFT COLUMN: Sub-menu Navigation -->
            <div style="width: 280px; flex-shrink: 0;">
                <h2 style="color: var(--mint-dark); margin-bottom: 20px;">
                    <i class="fas fa-database"></i> Master Data
                </h2>
                
                <div class="demo-banner" id="demoBanner" style="margin-bottom: 20px; display: none;">
                    <i class="fas fa-flask"></i>
                    <div style="font-size: 14px;">
                        <strong>Mode Demo Terbatas</strong><br>
                        Beberapa fitur tidak tersedia
                    </div>
                </div>
                
                <div class="submenu-nav">
                    <a href="#" class="submenu-item active" data-subpage="new" id="masterNewBtn">
                        <div class="submenu-icon">
                            <i class="fas fa-plus-circle"></i>
                        </div>
                        <div class="submenu-content">
                            <div class="submenu-title">Mulai Baru</div>
                            <div class="submenu-desc">Setup data master awal</div>
                        </div>
                    </a>
                    
                    <a href="#" class="submenu-item" data-subpage="migration" id="masterMigrationBtn">
                        <div class="submenu-icon">
                            <i class="fas fa-file-excel"></i>
                        </div>
                        <div class="submenu-content">
                            <div class="submenu-title">Migrasi Data</div>
                            <div class="submenu-desc">Import data dari Excel</div>
                            <small id="migrationLock" style="color: #ff9800; display: none;">(Login Google)</small>
                        </div>
                    </a>
                    
                    <a href="#" class="submenu-item" data-subpage="backup" id="masterBackupBtn">
                        <div class="submenu-icon">
                            <i class="fas fa-download"></i>
                        </div>
                        <div class="submenu-content">
                            <div class="submenu-title">Backup Data</div>
                            <div class="submenu-desc">Export data ke Excel</div>
                            <small id="backupLock" style="color: #ff9800; display: none;">(Login Google)</small>
                        </div>
                    </a>
                    
                    <a href="#" class="submenu-item" data-subpage="reset" id="masterResetBtn">
                        <div class="submenu-icon">
                            <i class="fas fa-trash-alt"></i>
                        </div>
                        <div class="submenu-content">
                            <div class="submenu-title">Reset Data</div>
                            <div class="submenu-desc">Hapus semua data</div>
                            <small id="resetLock" style="color: #ff9800; display: none;">(Login Google)</small>
                        </div>
                    </a>
                </div>
                
                <div class="stat-card" style="margin-top: 25px; background: #f8f9fa;">
                    <h4><i class="fas fa-info-circle"></i> Status Data</h4>
                    <ul style="font-size: 13px; margin-top: 10px; padding-left: 20px;" id="dataStatus">
                        <li>Perusahaan: âœ—</li>
                        <li>Gudang: 0</li>
                        <li>Kategori: 0</li>
                        <li>Supplier: 0</li>
                        <li>Pelanggan: 0</li>
                        <li>Produk: 0</li>
                    </ul>
                </div>
            </div>
            
            <!-- RIGHT COLUMN: Content Area -->
            <div style="flex: 1; min-width: 0;">
                <div id="masterDataContent">
                    <!-- Konten akan dimuat di sini -->
                </div>
            </div>
        </div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/masterdata.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            if (!checkAuth()) return;
            
            loadCommonElements();
            
            // Set active menu
            setTimeout(() => {
                document.querySelectorAll('.menu-item').forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('href') === 'masterdata.html') {
                        item.classList.add('active');
                    }
                });
            }, 100);
            
            // Load master data content
            loadMasterDataContent('new');
        });
    </script>
</body>
</html>
